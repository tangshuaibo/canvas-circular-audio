var CanvasCirclularAudio=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,r){return t(r={exports:{}},r.exports),r.exports}var e,n,o,i="object",a=function(t){return t&&t.Math==Math&&t},u=a(typeof globalThis==i&&globalThis)||a(typeof window==i&&window)||a(typeof self==i&&self)||a(typeof t==i&&t)||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},f=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,h={f:l&&!s.call({1:2},1)?function(t){var r=l(this,t);return!!r&&r.enumerable}:s},y=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},p={}.toString,d=function(t){return p.call(t).slice(8,-1)},v="".split,g=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==d(t)?v.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},w=function(t){return g(b(t))},A=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,r){if(!A(t))return t;var e,n;if(r&&"function"==typeof(e=t.toString)&&!A(n=e.call(t)))return n;if("function"==typeof(e=t.valueOf)&&!A(n=e.call(t)))return n;if(!r&&"function"==typeof(e=t.toString)&&!A(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")},T={}.hasOwnProperty,S=function(t,r){return T.call(t,r)},x=u.document,E=A(x)&&A(x.createElement),O=function(t){return E?x.createElement(t):{}},P=!f&&!c(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a}),I=Object.getOwnPropertyDescriptor,_={f:f?I:function(t,r){if(t=w(t),r=m(r,!0),P)try{return I(t,r)}catch(t){}if(S(t,r))return y(!h.f.call(t,r),t[r])}},j=function(t){if(!A(t))throw TypeError(String(t)+" is not an object");return t},R=Object.defineProperty,k={f:f?R:function(t,r,e){if(j(t),r=m(r,!0),j(e),P)try{return R(t,r,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[r]=e.value),t}},C=f?function(t,r,e){return k.f(t,r,y(1,e))}:function(t,r,e){return t[r]=e,t},M=function(t,r){try{C(u,t,r)}catch(e){u[t]=r}return r},L=r(function(t){var r=u["__core-js_shared__"]||M("__core-js_shared__",{});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),N=L("native-function-to-string",Function.toString),F=u.WeakMap,W="function"==typeof F&&/native code/.test(N.call(F)),B=0,D=Math.random(),U=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++B+D).toString(36))},V=L("keys"),Y=function(t){return V[t]||(V[t]=U(t))},G={},q=u.WeakMap;if(W){var z=new q,H=z.get,K=z.has,J=z.set;e=function(t,r){return J.call(z,t,r),r},n=function(t){return H.call(z,t)||{}},o=function(t){return K.call(z,t)}}else{var Q=Y("state");G[Q]=!0,e=function(t,r){return C(t,Q,r),r},n=function(t){return S(t,Q)?t[Q]:{}},o=function(t){return S(t,Q)}}var X={set:e,get:n,has:o,enforce:function(t){return o(t)?n(t):e(t,{})},getterFor:function(t){return function(r){var e;if(!A(r)||(e=n(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}}},Z=r(function(t){var r=X.get,e=X.enforce,n=String(N).split("toString");L("inspectSource",function(t){return N.call(t)}),(t.exports=function(t,r,o,i){var a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,f=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof r||S(o,"name")||C(o,"name",r),e(o).source=n.join("string"==typeof r?r:"")),t!==u?(a?!f&&t[r]&&(c=!0):delete t[r],c?t[r]=o:C(t,r,o)):c?t[r]=o:M(r,o)})(Function.prototype,"toString",function(){return"function"==typeof this&&r(this).source||N.call(this)})}),$=Math.ceil,tt=Math.floor,rt=function(t){return isNaN(t=+t)?0:(t>0?tt:$)(t)},et=Math.min,nt=function(t){return t>0?et(rt(t),9007199254740991):0},ot=Math.max,it=Math.min,at=function(t,r){var e=rt(t);return e<0?ot(e+r,0):it(e,r)},ut=function(t){return function(r,e,n){var o,i=w(r),a=nt(i.length),u=at(n,a);if(t&&e!=e){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===e)return t||u||0;return!t&&-1}},ct=ut(!1),ft=function(t,r){var e,n=w(t),o=0,i=[];for(e in n)!S(G,e)&&S(n,e)&&i.push(e);for(;r.length>o;)S(n,e=r[o++])&&(~ct(i,e)||i.push(e));return i},st=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lt=st.concat("length","prototype"),ht={f:Object.getOwnPropertyNames||function(t){return ft(t,lt)}},yt={f:Object.getOwnPropertySymbols},pt=u.Reflect,dt=pt&&pt.ownKeys||function(t){var r=ht.f(j(t)),e=yt.f;return e?r.concat(e(t)):r},vt=function(t,r){for(var e=dt(r),n=k.f,o=_.f,i=0;i<e.length;i++){var a=e[i];S(t,a)||n(t,a,o(r,a))}},gt=/#|\.prototype\./,bt=function(t,r){var e=At[wt(t)];return e==Tt||e!=mt&&("function"==typeof r?c(r):!!r)},wt=bt.normalize=function(t){return String(t).replace(gt,".").toLowerCase()},At=bt.data={},mt=bt.NATIVE="N",Tt=bt.POLYFILL="P",St=bt,xt=_.f,Et=function(t,r){var e,n,o,i,a,c=t.target,f=t.global,s=t.stat;if(e=f?u:s?u[c]||M(c,{}):(u[c]||{}).prototype)for(n in r){if(i=r[n],o=t.noTargetGet?(a=xt(e,n))&&a.value:e[n],!St(f?n:c+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;vt(i,o)}(t.sham||o&&o.sham)&&C(i,"sham",!0),Z(e,n,i,t)}},Ot=function(t){return Object(b(t))},Pt=function(t){for(var r=Ot(this),e=nt(r.length),n=arguments.length,o=at(n>1?arguments[1]:void 0,e),i=n>2?arguments[2]:void 0,a=void 0===i?e:at(i,e);a>o;)r[o++]=t;return r},It=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())}),_t=u.Symbol,jt=L("wks"),Rt=function(t){return jt[t]||(jt[t]=It&&_t[t]||(It?_t:U)("Symbol."+t))},kt=Object.keys||function(t){return ft(t,st)},Ct=f?Object.defineProperties:function(t,r){j(t);for(var e,n=kt(r),o=n.length,i=0;o>i;)k.f(t,e=n[i++],r[e]);return t},Mt=u.document,Lt=Mt&&Mt.documentElement,Nt=Y("IE_PROTO"),Ft=function(){},Wt=function(){var t,r=O("iframe"),e=st.length;for(r.style.display="none",Lt.appendChild(r),r.src=String("javascript:"),(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Wt=t.F;e--;)delete Wt.prototype[st[e]];return Wt()},Bt=Object.create||function(t,r){var e;return null!==t?(Ft.prototype=j(t),e=new Ft,Ft.prototype=null,e[Nt]=t):e=Wt(),void 0===r?e:Ct(e,r)};G[Nt]=!0;var Dt=Rt("unscopables"),Ut=Array.prototype;null==Ut[Dt]&&C(Ut,Dt,Bt(null));var Vt=function(t){Ut[Dt][t]=!0};Et({target:"Array",proto:!0},{fill:Pt}),Vt("fill");var Yt,Gt,qt,zt={},Ht=!c(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Kt=Y("IE_PROTO"),Jt=Object.prototype,Qt=Ht?Object.getPrototypeOf:function(t){return t=Ot(t),S(t,Kt)?t[Kt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Jt:null},Xt=Rt("iterator"),Zt=!1;[].keys&&("next"in(qt=[].keys())?(Gt=Qt(Qt(qt)))!==Object.prototype&&(Yt=Gt):Zt=!0),null==Yt&&(Yt={}),S(Yt,Xt)||C(Yt,Xt,function(){return this});var $t={IteratorPrototype:Yt,BUGGY_SAFARI_ITERATORS:Zt},tr=k.f,rr=Rt("toStringTag"),er=function(t,r,e){t&&!S(t=e?t:t.prototype,rr)&&tr(t,rr,{configurable:!0,value:r})},nr=$t.IteratorPrototype,or=function(){return this},ir=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,e={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(t){}return function(e,n){return function(t,r){if(j(t),!A(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype")}(e,n),r?t.call(e,n):e.__proto__=n,e}}():void 0),ar=$t.IteratorPrototype,ur=$t.BUGGY_SAFARI_ITERATORS,cr=Rt("iterator"),fr=function(){return this},sr=X.set,lr=X.getterFor("Array Iterator"),hr=function(t,r,e,n,o,i,a){!function(t,r,e){var n=r+" Iterator";t.prototype=Bt(nr,{next:y(1,e)}),er(t,n,!1),zt[n]=or}(e,r,n);var u,c,f,s=function(t){if(t===o&&v)return v;if(!ur&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new e(this,t)}}return function(){return new e(this)}},l=r+" Iterator",h=!1,p=t.prototype,d=p[cr]||p["@@iterator"]||o&&p[o],v=!ur&&d||s(o),g="Array"==r&&p.entries||d;if(g&&(u=Qt(g.call(new t)),ar!==Object.prototype&&u.next&&(Qt(u)!==ar&&(ir?ir(u,ar):"function"!=typeof u[cr]&&C(u,cr,fr)),er(u,l,!0))),"values"==o&&d&&"values"!==d.name&&(h=!0,v=function(){return d.call(this)}),p[cr]!==v&&C(p,cr,v),zt[r]=v,o)if(c={values:s("values"),keys:i?v:s("keys"),entries:s("entries")},a)for(f in c)!ur&&!h&&f in p||Z(p,f,c[f]);else Et({target:r,proto:!0,forced:ur||h},c);return c}(Array,"Array",function(t,r){sr(this,{type:"Array Iterator",target:w(t),index:0,kind:r})},function(){var t=lr(this),r=t.target,e=t.kind,n=t.index++;return!r||n>=r.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:n,done:!1}:"values"==e?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values");zt.Arguments=zt.Array,Vt("keys"),Vt("values"),Vt("entries");var yr=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},pr=function(t,r,e,n,o){yr(r);var i=Ot(t),a=g(i),u=nt(i.length),c=o?u-1:0,f=o?-1:1;if(e<2)for(;;){if(c in a){n=a[c],c+=f;break}if(c+=f,o?c<0:u<=c)throw TypeError("Reduce of empty array with no initial value")}for(;o?c>=0:u>c;c+=f)c in a&&(n=r(n,a[c],c,i));return n},dr=function(t,r){var e=[][t];return!e||!c(function(){e.call(null,r||function(){throw 1},1)})},vr=dr("reduce");Et({target:"Array",proto:!0,forced:vr},{reduce:function(t){return pr(this,t,arguments.length,arguments[1],!1)}});var gr,br=Array.isArray||function(t){return"Array"==d(t)},wr=Rt("species"),Ar=Rt("species"),mr=[].slice,Tr=Math.max,Sr=(gr="slice",!c(function(){var t=[];return(t.constructor={})[wr]=function(){return{foo:1}},1!==t[gr](Boolean).foo}));Et({target:"Array",proto:!0,forced:!Sr},{slice:function(t,r){var e,n,o,i,a,u,c,f=w(this),s=nt(f.length),l=at(t,s),h=at(void 0===r?s:r,s);if(br(f)&&("function"!=typeof(e=f.constructor)||e!==Array&&!br(e.prototype)?A(e)&&null===(e=e[Ar])&&(e=void 0):e=void 0,e===Array||void 0===e))return mr.call(f,l,h);for(n=new(void 0===e?Array:e)(Tr(h-l,0)),o=0;l<h;l++,o++)l in f&&(i=n,a=o,u=f[l],c=void 0,(c=m(a))in i?k.f(i,c,y(0,u)):i[c]=u);return n.length=o,n}});var xr,Er=Rt("toStringTag"),Or="Arguments"==d(function(){return arguments}()),Pr=function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),Er))?e:Or?d(r):"Object"==(n=d(r))&&"function"==typeof r.callee?"Arguments":n},Ir=k.f,_r=u.DataView,jr=_r&&_r.prototype,Rr=u.Int8Array,kr=Rr&&Rr.prototype,Cr=u.Uint8ClampedArray,Mr=Cr&&Cr.prototype,Lr=Rr&&Qt(Rr),Nr=kr&&Qt(kr),Fr=Object.prototype,Wr=Fr.isPrototypeOf,Br=Rt("toStringTag"),Dr=U("TYPED_ARRAY_TAG"),Ur=!(!u.ArrayBuffer||!u.DataView),Vr=Ur&&!!ir,Yr=!1,Gr={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},qr=function(t){return A(t)&&S(Gr,Pr(t))};for(xr in Gr)u[xr]||(Vr=!1);if((!Vr||"function"!=typeof Lr||Lr===Function.prototype)&&(Lr=function(){throw TypeError("Incorrect invocation")},Vr))for(xr in Gr)u[xr]&&ir(u[xr],Lr);if((!Vr||!Nr||Nr===Fr)&&(Nr=Lr.prototype,Vr))for(xr in Gr)u[xr]&&ir(u[xr].prototype,Nr);if(Vr&&Qt(Mr)!==Nr&&ir(Mr,Nr),f&&!S(Nr,Br))for(xr in Yr=!0,Ir(Nr,Br,{get:function(){return A(this)?this[Dr]:void 0}}),Gr)u[xr]&&C(u[xr],Dr,xr);Ur&&ir&&Qt(jr)!==Fr&&ir(jr,Fr);var zr={NATIVE_ARRAY_BUFFER:Ur,NATIVE_ARRAY_BUFFER_VIEWS:Vr,TYPED_ARRAY_TAG:Yr&&Dr,aTypedArray:function(t){if(qr(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(ir){if(Wr.call(Lr,t))return t}else for(var r in Gr)if(S(Gr,xr)){var e=u[r];if(e&&(t===e||Wr.call(e,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,r,e){if(f){if(e)for(var n in Gr){var o=u[n];o&&S(o.prototype,t)&&delete o.prototype[t]}Nr[t]&&!e||Z(Nr,t,e?r:Vr&&kr[t]||r)}},exportStatic:function(t,r,e){var n,o;if(f){if(ir){if(e)for(n in Gr)(o=u[n])&&S(o,t)&&delete o[t];if(Lr[t]&&!e)return;try{return Z(Lr,t,e?r:Vr&&Rr[t]||r)}catch(t){}}for(n in Gr)!(o=u[n])||o[t]&&!e||Z(o,t,r)}},isView:function(t){var r=Pr(t);return"DataView"===r||S(Gr,r)},isTypedArray:qr,TypedArray:Lr,TypedArrayPrototype:Nr},Hr=function(t,r,e){for(var n in r)Z(t,n,r[n],e);return t},Kr=function(t,r,e){if(!(t instanceof r))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t},Jr=function(t){if(void 0===t)return 0;var r=rt(t),e=nt(r);if(r!==e)throw RangeError("Wrong length or index");return e},Qr=r(function(t,r){var e=zr.NATIVE_ARRAY_BUFFER,n=ht.f,o=k.f,i=X.get,a=X.set,s=u.ArrayBuffer,l=s,h=u.DataView,y=u.Math,p=u.RangeError,d=y.abs,v=y.pow,g=y.floor,b=y.log,w=y.LN2,A=function(t,r,e){var n,o,i,a=new Array(e),u=8*e-r-1,c=(1<<u)-1,f=c>>1,s=23===r?v(2,-24)-v(2,-77):0,l=t<0||0===t&&1/t<0?1:0,h=0;for((t=d(t))!=t||t===1/0?(o=t!=t?1:0,n=c):(n=g(b(t)/w),t*(i=v(2,-n))<1&&(n--,i*=2),(t+=n+f>=1?s/i:s*v(2,1-f))*i>=2&&(n++,i/=2),n+f>=c?(o=0,n=c):n+f>=1?(o=(t*i-1)*v(2,r),n+=f):(o=t*v(2,f-1)*v(2,r),n=0));r>=8;a[h++]=255&o,o/=256,r-=8);for(n=n<<r|o,u+=r;u>0;a[h++]=255&n,n/=256,u-=8);return a[--h]|=128*l,a},m=function(t,r){var e,n=t.length,o=8*n-r-1,i=(1<<o)-1,a=i>>1,u=o-7,c=n-1,f=t[c--],s=127&f;for(f>>=7;u>0;s=256*s+t[c],c--,u-=8);for(e=s&(1<<-u)-1,s>>=-u,u+=r;u>0;e=256*e+t[c],c--,u-=8);if(0===s)s=1-a;else{if(s===i)return e?NaN:f?-1/0:1/0;e+=v(2,r),s-=a}return(f?-1:1)*e*v(2,s-r)},T=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},S=function(t){return[255&t]},x=function(t){return[255&t,t>>8&255]},E=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},O=function(t){return A(t,23,4)},P=function(t){return A(t,52,8)},I=function(t,r){o(t.prototype,r,{get:function(){return i(this)[r]}})},_=function(t,r,e,n){var o=Jr(+e),a=i(t);if(o+r>a.byteLength)throw p("Wrong index");var u=i(a.buffer).bytes,c=o+a.byteOffset,f=u.slice(c,c+r);return n?f:f.reverse()},j=function(t,r,e,n,o,a){var u=Jr(+e),c=i(t);if(u+r>c.byteLength)throw p("Wrong index");for(var f=i(c.buffer).bytes,s=u+c.byteOffset,l=n(+o),h=0;h<r;h++)f[s+h]=l[a?h:r-h-1]};if(e){if(!c(function(){s(1)})||!c(function(){new s(-1)})||c(function(){return new s,new s(1.5),new s(NaN),"ArrayBuffer"!=s.name})){for(var R,M=(l=function(t){return Kr(this,l),new s(Jr(t))}).prototype=s.prototype,L=n(s),N=0;L.length>N;)(R=L[N++])in l||C(l,R,s[R]);M.constructor=l}var F=new h(new l(2)),W=h.prototype.setInt8;F.setInt8(0,2147483648),F.setInt8(1,2147483649),!F.getInt8(0)&&F.getInt8(1)||Hr(h.prototype,{setInt8:function(t,r){W.call(this,t,r<<24>>24)},setUint8:function(t,r){W.call(this,t,r<<24>>24)}},{unsafe:!0})}else l=function(t){Kr(this,l,"ArrayBuffer");var r=Jr(t);a(this,{bytes:Pt.call(new Array(r),0),byteLength:r}),f||(this.byteLength=r)},h=function(t,r,e){Kr(this,h,"DataView"),Kr(t,l,"DataView");var n=i(t).byteLength,o=rt(r);if(o<0||o>n)throw p("Wrong offset");if(o+(e=void 0===e?n-o:nt(e))>n)throw p("Wrong length");a(this,{buffer:t,byteLength:e,byteOffset:o}),f||(this.buffer=t,this.byteLength=e,this.byteOffset=o)},f&&(I(l,"byteLength"),I(h,"buffer"),I(h,"byteLength"),I(h,"byteOffset")),Hr(h.prototype,{getInt8:function(t){return _(this,1,t)[0]<<24>>24},getUint8:function(t){return _(this,1,t)[0]},getInt16:function(t){var r=_(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=_(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function(t){return T(_(this,4,t,arguments[1]))},getUint32:function(t){return T(_(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return m(_(this,4,t,arguments[1]),23)},getFloat64:function(t){return m(_(this,8,t,arguments[1]),52)},setInt8:function(t,r){j(this,1,t,S,r)},setUint8:function(t,r){j(this,1,t,S,r)},setInt16:function(t,r){j(this,2,t,x,r,arguments[2])},setUint16:function(t,r){j(this,2,t,x,r,arguments[2])},setInt32:function(t,r){j(this,4,t,E,r,arguments[2])},setUint32:function(t,r){j(this,4,t,E,r,arguments[2])},setFloat32:function(t,r){j(this,4,t,O,r,arguments[2])},setFloat64:function(t,r){j(this,8,t,P,r,arguments[2])}});er(l,"ArrayBuffer"),er(h,"DataView"),r.ArrayBuffer=l,r.DataView=h}),Xr=Rt("species"),Zr=function(t,r){var e,n=j(t).constructor;return void 0===n||null==(e=j(n)[Xr])?r:yr(e)},$r=Qr.ArrayBuffer,te=Qr.DataView,re=$r.prototype.slice,ee=c(function(){return!new $r(2).slice(1,void 0).byteLength});Et({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:ee},{slice:function(t,r){if(void 0!==re&&void 0===r)return re.call(j(this),t);for(var e=j(this).byteLength,n=at(t,e),o=at(void 0===r?e:r,e),i=new(Zr(this,$r))(nt(o-n)),a=new te(this),u=new te(i),c=0;n<o;)u.setUint8(c++,a.getUint8(n++));return i}});var ne=Object.assign,oe=!ne||c(function(){var t={},r={},e=Symbol();return t[e]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),7!=ne({},t)[e]||"abcdefghijklmnopqrst"!=kt(ne({},r)).join("")})?function(t,r){for(var e=Ot(t),n=arguments.length,o=1,i=yt.f,a=h.f;n>o;)for(var u,c=g(arguments[o++]),s=i?kt(c).concat(i(c)):kt(c),l=s.length,y=0;l>y;)u=s[y++],f&&!a.call(c,u)||(e[u]=c[u]);return e}:ne;Et({target:"Object",stat:!0,forced:Object.assign!==oe},{assign:oe});var ie={};ie[Rt("toStringTag")]="z";var ae="[object z]"!==String(ie)?function(){return"[object "+Pr(this)+"]"}:ie.toString,ue=Object.prototype;ae!==ue.toString&&Z(ue,"toString",ae,{unsafe:!0});var ce=Rt("iterator"),fe=!1;try{var se=0;({next:function(){return{done:!!se++}},return:function(){fe=!0}})[ce]=function(){return this}}catch(t){}var le=zr.NATIVE_ARRAY_BUFFER_VIEWS,he=u.ArrayBuffer,ye=u.Int8Array,pe=!le||!c(function(){ye(1)})||!c(function(){new ye(-1)})||!function(t,r){if(!r&&!fe)return!1;var e=!1;try{var n={};n[ce]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(t){}return e}(function(t){new ye,new ye(null),new ye(1.5),new ye(t)},!0)||c(function(){return 1!==new ye(new he(2),1,void 0).length}),de=function(t,r){var e=rt(t);if(e<0||e%r)throw RangeError("Wrong offset");return e},ve=Rt("iterator"),ge=Rt("iterator"),be=Array.prototype,we=function(t,r,e){if(yr(t),void 0===r)return t;switch(e){case 0:return function(){return t.call(r)};case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,o){return t.call(r,e,n,o)}}return function(){return t.apply(r,arguments)}},Ae=zr.aTypedArrayConstructor,me=function(t){var r,e,n,o,i,a,u=Ot(t),c=arguments.length,f=c>1?arguments[1]:void 0,s=void 0!==f,l=function(t){if(null!=t)return t[ve]||t["@@iterator"]||zt[Pr(t)]}(u);if(null!=l&&(void 0===(a=l)||zt.Array!==a&&be[ge]!==a))for(i=l.call(u),u=[];!(o=i.next()).done;)u.push(o.value);for(s&&c>2&&(f=we(f,arguments[2],2)),e=nt(u.length),n=new(Ae(this))(e),r=0;e>r;r++)n[r]=s?f(u[r],r):u[r];return n},Te=Rt("species"),Se=function(t,r){var e;return br(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!br(e.prototype)?A(e)&&null===(e=e[Te])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===r?0:r)},xe=function(t,r){var e=1==t,n=2==t,o=3==t,i=4==t,a=6==t,u=5==t||a,c=r||Se;return function(r,f,s){for(var l,h,y=Ot(r),p=g(y),d=we(f,s,3),v=nt(p.length),b=0,w=e?c(r,v):n?c(r,0):void 0;v>b;b++)if((u||b in p)&&(h=d(l=p[b],b,y),t))if(e)w[b]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return b;case 2:w.push(l)}else if(i)return!1;return a?-1:o||i?i:w}},Ee=u,Oe=function(t){return"function"==typeof t?t:void 0},Pe=Rt("species"),Ie=function(t){var r=function(t,r){return arguments.length<2?Oe(Ee[t])||Oe(u[t]):Ee[t]&&Ee[t][r]||u[t]&&u[t][r]}(t),e=k.f;f&&r&&!r[Pe]&&e(r,Pe,{configurable:!0,get:function(){return this}})};r(function(t){var r=ht.f,e=X.get,n=X.set,o=k.f,i=_.f,a=xe(0),c=u.RangeError,s=Qr.ArrayBuffer,l=Qr.DataView,h=zr.NATIVE_ARRAY_BUFFER_VIEWS,p=zr.TYPED_ARRAY_TAG,d=zr.TypedArray,v=zr.TypedArrayPrototype,g=zr.aTypedArrayConstructor,b=zr.isTypedArray,w=function(t,r){for(var e=0,n=r.length,o=new(g(t))(n);n>e;)o[e]=r[e++];return o},T=function(t,r){o(t,r,{get:function(){return e(this)[r]}})},x=function(t){var r;return t instanceof s||"ArrayBuffer"==(r=Pr(t))||"SharedArrayBuffer"==r},E=function(t,r){return b(t)&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},O=function(t,r){return E(t,r=m(r,!0))?y(2,t[r]):i(t,r)},P=function(t,r,e){return!(E(t,r=m(r,!0))&&A(e)&&S(e,"value"))||S(e,"get")||S(e,"set")||e.configurable||S(e,"writable")&&!e.writable||S(e,"enumerable")&&!e.enumerable?o(t,r,e):(t[r]=e.value,t)};f?(h||(_.f=O,k.f=P,T(v,"buffer"),T(v,"byteOffset"),T(v,"byteLength"),T(v,"length")),Et({target:"Object",stat:!0,forced:!h},{getOwnPropertyDescriptor:O,defineProperty:P}),t.exports=function(t,i,f,y){var g=t+(y?"Clamped":"")+"Array",m="get"+t,T="set"+t,S=u[g],E=S,O=E&&E.prototype,P={},I=function(t,r){o(t,r,{get:function(){return function(t,r){var n=e(t);return n.view[m](r*i+n.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,n){var o=e(t);y&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),o.view[T](r*i+o.byteOffset,n,!0)}(this,r,t)},enumerable:!0})};h?pe&&(E=f(function(t,r,e,n){return Kr(t,E,g),A(r)?x(r)?void 0!==n?new S(r,de(e,i),n):void 0!==e?new S(r,de(e,i)):new S(r):b(r)?w(E,r):me.call(E,r):new S(Jr(r))}),ir&&ir(E,d),a(r(S),function(t){t in E||C(E,t,S[t])}),E.prototype=O):(E=f(function(t,r,e,o){Kr(t,E,g);var a,u,f,h=0,y=0;if(A(r)){if(!x(r))return b(r)?w(E,r):me.call(E,r);a=r,y=de(e,i);var p=r.byteLength;if(void 0===o){if(p%i)throw c("Wrong length");if((u=p-y)<0)throw c("Wrong length")}else if((u=nt(o)*i)+y>p)throw c("Wrong length");f=u/i}else f=Jr(r),a=new s(u=f*i);for(n(t,{buffer:a,byteOffset:y,byteLength:u,length:f,view:new l(a)});h<f;)I(t,h++)}),ir&&ir(E,d),O=E.prototype=Bt(v)),O.constructor!==E&&C(O,"constructor",E),p&&C(O,p,g),P[g]=E,Et({global:!0,forced:E!=S,sham:!h},P),"BYTES_PER_ELEMENT"in E||C(E,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in O||C(O,"BYTES_PER_ELEMENT",i),Ie(g)}):t.exports=function(){}})("Uint8",1,function(t){return function(r,e,n){return t(this,r,e,n)}});var _e=[].copyWithin||function(t,r){var e=Ot(this),n=nt(e.length),o=at(t,n),i=at(r,n),a=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===a?n:at(a,n))-i,n-o),c=1;for(i<o&&o<i+u&&(c=-1,i+=u-1,o+=u-1);u-- >0;)i in e?e[o]=e[i]:delete e[o],o+=c,i+=c;return e},je=zr.aTypedArray;zr.exportProto("copyWithin",function(t,r){return _e.call(je(this),t,r,arguments.length>2?arguments[2]:void 0)});var Re=xe(4),ke=zr.aTypedArray;zr.exportProto("every",function(t){return Re(ke(this),t,arguments.length>1?arguments[1]:void 0)});var Ce=zr.aTypedArray;zr.exportProto("fill",function(t){return Pt.apply(Ce(this),arguments)});var Me=xe(2),Le=zr.aTypedArray,Ne=zr.aTypedArrayConstructor;zr.exportProto("filter",function(t){for(var r=Me(Le(this),t,arguments.length>1?arguments[1]:void 0),e=Zr(this,this.constructor),n=0,o=r.length,i=new(Ne(e))(o);o>n;)i[n]=r[n++];return i});var Fe=xe(5),We=zr.aTypedArray;zr.exportProto("find",function(t){return Fe(We(this),t,arguments.length>1?arguments[1]:void 0)});var Be=xe(6),De=zr.aTypedArray;zr.exportProto("findIndex",function(t){return Be(De(this),t,arguments.length>1?arguments[1]:void 0)});var Ue=xe(0),Ve=zr.aTypedArray;zr.exportProto("forEach",function(t){Ue(Ve(this),t,arguments.length>1?arguments[1]:void 0)});var Ye=zr.aTypedArray,Ge=ut(!0);zr.exportProto("includes",function(t){return Ge(Ye(this),t,arguments.length>1?arguments[1]:void 0)});var qe=zr.aTypedArray,ze=ut(!1);zr.exportProto("indexOf",function(t){return ze(qe(this),t,arguments.length>1?arguments[1]:void 0)});var He=Rt("iterator"),Ke=u.Uint8Array,Je=hr.values,Qe=hr.keys,Xe=hr.entries,Ze=zr.aTypedArray,$e=zr.exportProto,tn=Ke&&Ke.prototype[He],rn=!!tn&&("values"==tn.name||null==tn.name),en=function(){return Je.call(Ze(this))};$e("entries",function(){return Xe.call(Ze(this))}),$e("keys",function(){return Qe.call(Ze(this))}),$e("values",en,!rn),$e(He,en,!rn);var nn=zr.aTypedArray,on=[].join;zr.exportProto("join",function(t){return on.apply(nn(this),arguments)});var an=[].lastIndexOf,un=!!an&&1/[1].lastIndexOf(1,-0)<0,cn=dr("lastIndexOf"),fn=un||cn?function(t){if(un)return an.apply(this,arguments)||0;var r=w(this),e=nt(r.length),n=e-1;for(arguments.length>1&&(n=Math.min(n,rt(arguments[1]))),n<0&&(n=e+n);n>=0;n--)if(n in r&&r[n]===t)return n||0;return-1}:an,sn=zr.aTypedArray;zr.exportProto("lastIndexOf",function(t){return fn.apply(sn(this),arguments)});var ln=zr.aTypedArray,hn=zr.aTypedArrayConstructor,yn=xe(1,function(t,r){return new(hn(Zr(t,t.constructor)))(r)});zr.exportProto("map",function(t){return yn(ln(this),t,arguments.length>1?arguments[1]:void 0)});var pn=zr.aTypedArray;zr.exportProto("reduce",function(t){return pr(pn(this),t,arguments.length,arguments[1],!1)});var dn=zr.aTypedArray;zr.exportProto("reduceRight",function(t){return pr(dn(this),t,arguments.length,arguments[1],!0)});var vn=zr.aTypedArray;zr.exportProto("reverse",function(){for(var t,r=vn(this).length,e=Math.floor(r/2),n=0;n<e;)t=this[n],this[n++]=this[--r],this[r]=t;return this});var gn=zr.aTypedArray,bn=c(function(){new Int8Array(1).set({})});zr.exportProto("set",function(t){gn(this);var r=de(arguments[1],1),e=this.length,n=Ot(t),o=nt(n.length),i=0;if(o+r>e)throw RangeError("Wrong length");for(;i<o;)this[r+i]=n[i++]},bn);var wn=zr.aTypedArray,An=zr.aTypedArrayConstructor,mn=[].slice,Tn=c(function(){new Int8Array(1).slice()});zr.exportProto("slice",function(t,r){for(var e=mn.call(wn(this),t,r),n=Zr(this,this.constructor),o=0,i=e.length,a=new(An(n))(i);i>o;)a[o]=e[o++];return a},Tn);var Sn=xe(3),xn=zr.aTypedArray;zr.exportProto("some",function(t){return Sn(xn(this),t,arguments.length>1?arguments[1]:void 0)});var En=zr.aTypedArray,On=[].sort;zr.exportProto("sort",function(t){return On.call(En(this),t)});var Pn=zr.aTypedArray;zr.exportProto("subarray",function(t,r){var e=Pn(this),n=e.length,o=at(t,n);return new(Zr(e,e.constructor))(e.buffer,e.byteOffset+o*e.BYTES_PER_ELEMENT,nt((void 0===r?n:at(r,n))-o))});var In=u.Int8Array,_n=zr.aTypedArray,jn=[].toLocaleString,Rn=[].slice,kn=!!In&&c(function(){jn.call(new In(1))}),Cn=c(function(){return[1,2].toLocaleString()!=new In([1,2]).toLocaleString()})||!c(function(){In.prototype.toLocaleString.call([1,2])});zr.exportProto("toLocaleString",function(){return jn.apply(kn?Rn.call(_n(this)):_n(this),arguments)},Cn);var Mn=u.Uint8Array,Ln=Mn&&Mn.prototype,Nn=[].toString,Fn=[].join;function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return c(function(){Nn.call({})})&&(Nn=function(){return Fn.call(this)}),zr.exportProto("toString",Nn,(Ln||{}).toString!=Nn),function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t);this.center={x:0,y:0},this.audioData={source:{},analyser:{},fftSize:1024,frequencyData:[]},this.playing=!1,this.rotateAngle=0,this.img=new Image,this.imgLoaded=!1,Object.assign(this,Object.assign({},{audioNode:null,canvasNode:null,partNumber:6,partEvenReverse:!0,canvasWidth:400,canvasHeight:200,picture:null,rotatable:!1,rotateStep:.2,lineWidth:2,lineCap:"round",fillStyle:"#e91e63",strokeStyle:"#e91e63",backgroundColor:null},r)),this.ctx=this.canvasNode.getContext("2d")}var r,e,n;return r=t,(e=[{key:"processAudio",value:function(){this.audioCtx=new AudioContext;var t=this.audioCtx.createMediaElementSource(this.audioNode),r=this.audioCtx.createAnalyser();t.connect(r),r.connect(this.audioCtx.destination),t.connect(this.audioCtx.destination),r.fftSize=this.audioData.fftSize,this.audioData.source=t,this.audioData.analyser=r,this.audioData.frequencyData=new Uint8Array(r.frequencyBinCount)}},{key:"drawFrame",value:function(){var t=this,r=this.audioData,e=r.analyser,n=r.frequencyData;e.getByteFrequencyData(n);var o=this.canvasNode,i=o.width,a=o.height,u=Math.min(i,a)/2,c=.56*u,f=.7*u,s=.2*u/255,l=360/this.partNumber,h=n.slice(0,l).reduce(function(t,r){return t+r})/l,y=this.ctx;if(y.clearRect(0,0,this.canvasNode.width,this.canvasNode.height),this.picture&&this.imgLoaded){var p=this.img.width,d=this.img.height,v=0,g=0;p>d?g=d*((v=2*f*.8)/p):v=p*((g=2*f*.8)/p);var b=this.center.x-v/2,w=this.center.y-g/2;y.fillStyle="white",y.beginPath(),y.arc(this.center.x,this.center.y,c,0,2*Math.PI),y.fill(),this.rotatable&&this.playing&&(this.rotateAngle+=this.rotateStep),y.save(),y.translate(this.center.x,this.center.y),y.rotate(this.rotateAngle/180*Math.PI),y.translate(-this.center.x,-this.center.y),y.drawImage(this.img,b,w,v,g),y.restore(),y.globalCompositeOperation="destination-in",y.beginPath(),y.arc(this.center.x,this.center.y,c,0,2*Math.PI),y.fill()}else y.fillStyle="#2196f3",y.beginPath(),y.arc(this.center.x,this.center.y,.9*c,0,2*Math.PI),y.fill(),y.fillStyle="#42a5f5",y.beginPath(),y.arc(this.center.x,this.center.y,.7*c,0,2*Math.PI),y.fill(),y.font="".concat(c,"px Arial"),y.textAlign="center",y.textBaseline="middle",y.fillStyle="white",y.fillText("M",this.center.x,this.center.y,c);if(this.backgroundColor){y.globalCompositeOperation="destination-over";var A=y.createRadialGradient(this.center.x,this.center.y,f,this.center.x,this.center.y,Math.max(i,a)/2);A.addColorStop(0,this.backgroundColor),A.addColorStop(1,"white"),y.fillStyle=A,y.fillRect(0,0,this.canvasWidth,this.canvasHeight)}y.lineCap=this.lineCap,y.lineWidth=this.lineWidth,y.fillStyle=this.fillStyle,y.strokeStyle=this.strokeStyle,y.globalCompositeOperation="source-over";for(var m=function(){for(var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;e<l;e+=2){var o=r&&t.partEvenReverse?n[l-1-e]:n[e],i=f+o*s,a=f-Math.max(o-h,0)*s,u=e/180*Math.PI;y.beginPath(),y.moveTo(t.center.x,t.center.y);var c=t.center.x-f*Math.cos(u),p=t.center.y-f*Math.sin(u);y.moveTo(c,p);var d=t.center.x-i*Math.cos(u),v=t.center.y-i*Math.sin(u);y.lineTo(d,v),y.stroke(),y.beginPath(),y.moveTo(t.center.x,t.center.y);var g=t.center.x-a*Math.cos(u),b=t.center.y-a*Math.sin(u);y.arc(g,b,y.lineWidth,0,2*Math.PI),y.fill()}},T=0;T<this.partNumber;T++)y.translate(this.center.x,this.center.y),y.rotate(l/180*Math.PI),y.translate(-this.center.x,-this.center.y),m(this.partNumber%2==0&&T%2!=0);requestAnimationFrame(this.drawFrame.bind(this))}},{key:"listenEvents",value:function(){var t=this,r=this.audioNode;r.addEventListener("play",function(){"suspended"===t.audioCtx.state?t.audioCtx.resume().then(function(){t.playing=!0}):t.playing=!0},!1),r.addEventListener("pause",function(){t.playing=!1},!1),r.addEventListener("ended",function(){t.playing=!1,t.rotateAngle=0},!1),r.addEventListener("abort",function(){t.picture=null,t.playing=!1,t.rotateAngle=0},!1),this.img.addEventListener("load",function(){t.imgLoaded=!0},!1)}},{key:"sizeCanvas",value:function(t,r){this.canvasWidth=t,this.canvasHeight=r}},{key:"setContext",value:function(t){var r=t.lineCap,e=void 0===r?this.lineCap:r,n=t.lineWidth,o=void 0===n?this.lineWidth:n,i=t.fillStyle,a=void 0===i?this.fillStyle:i,u=t.strokeStyle,c=void 0===u?this.strokeStyle:u,f=t.backgroundColor,s=void 0===f?this.backgroundColor:f;Object.assign(this,{lineCap:e,lineWidth:o,fillStyle:a,strokeStyle:c,backgroundColor:s})}},{key:"init",value:function(){this.listenEvents(),this.processAudio(),this.drawFrame()}},{key:"canvasWidth",get:function(){return this.canvasNode.width},set:function(t){var r=Wn(t);"number"===r?(this.canvasNode.width=t,this.center.x=t/2):window.console.warn("Type of width should be number, detected ".concat(r,"."))}},{key:"canvasHeight",get:function(){return this.canvasNode.height},set:function(t){var r=Wn(t);"number"===r?(this.canvasNode.height=t,this.center.y=t/2):window.console.warn("Type of width should be number, detected ".concat(r,"."))}},{key:"rotatable",get:function(){return this._rotatable},set:function(t){var r=Wn(t);"boolean"!==r?(window.console.warn("Type of width should be boolean, detected ".concat(r,".")),this._rotatable=!1):this._rotatable=t}},{key:"rotateStep",get:function(){return this._rotateStep},set:function(t){this._rotateStep=.2;var r=Wn(t);"number"!==r?window.console.warn("Type of width should be number, detected ".concat(r,".")):t<0||t>1?window.console.warn("The range of rotateStep should be [0, 1]."):this._rotateStep=t}},{key:"picture",get:function(){return this.img.src},set:function(t){this.imgLoaded=!1,t&&(this.img.src=t)}}])&&Bn(r.prototype,e),n&&Bn(r,n),t}()}();
